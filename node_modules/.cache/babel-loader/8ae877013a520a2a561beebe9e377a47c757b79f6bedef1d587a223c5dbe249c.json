{"ast":null,"code":"var _jsxFileName = \"/Users/user/Documents/garden-store/src/pages/ProductsPage/index.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport s from './style.module.css';\nimport ProductItem from '../../components/ProductItem';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useLocation, useParams } from 'react-router-dom';\nimport Filter from '../../components/Filter/';\nimport { useEffect } from 'react';\nimport { resetFilter } from '../../store/slices/productsSlice';\nimport MobilAccordion from '../../components/MobilAccordion';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductsPage = () => {\n  _s();\n  const {\n    categoryTitle,\n    categoryID,\n    sales\n  } = useParams();\n  const dispatch = useDispatch();\n  const location = useLocation();\n  useEffect(() => {\n    dispatch(resetFilter());\n  }, [dispatch]);\n  useEffect(() => {\n    if (sales) {\n      document.title = \"All Sales\";\n    } else if (categoryID) {\n      document.title = `Category: ${categoryTitle}`;\n    } else {\n      document.title = \"Products\";\n    }\n  }, [location.pathname]);\n  const products = useSelector(_ref => {\n    let {\n      products: {\n        data\n      }\n    } = _ref;\n    if (sales) {\n      return data.filter(el => !!el.discont_price);\n    } else {\n      return categoryID ? data.filter(_ref2 => {\n        let {\n          categoryId\n        } = _ref2;\n        return +categoryID === categoryId;\n      }) : data;\n    }\n  });\n  const titleRender = () => {\n    if (categoryTitle) {\n      return categoryTitle;\n    } else if (sales) {\n      return \"Products with sale\";\n    } else {\n      return \"All products\";\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: s.products_page,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: s.title,\n      children: titleRender()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.hidden,\n      children: /*#__PURE__*/_jsxDEV(Filter, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.mob_filter,\n      children: /*#__PURE__*/_jsxDEV(MobilAccordion, {\n        title: \"Filters\",\n        children: /*#__PURE__*/_jsxDEV(Filter, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 22\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.products_container,\n      children: products.filter(_ref3 => {\n        let {\n          show\n        } = _ref3;\n        return show;\n      }).filter(_ref4 => {\n        let {\n          discount\n        } = _ref4;\n        return discount;\n      }).map(el => /*#__PURE__*/_jsxDEV(ProductItem, {\n        ...el\n      }, el.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 31\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n};\n_s(ProductsPage, \"witMB02eNPoq5DPwNu5bjNrCZjc=\", false, function () {\n  return [useParams, useDispatch, useLocation, useSelector];\n});\n_c = ProductsPage;\nexport default ProductsPage;\nvar _c;\n$RefreshReg$(_c, \"ProductsPage\");","map":{"version":3,"names":["React","s","ProductItem","useDispatch","useSelector","useLocation","useParams","Filter","useEffect","resetFilter","MobilAccordion","jsxDEV","_jsxDEV","ProductsPage","_s","categoryTitle","categoryID","sales","dispatch","location","document","title","pathname","products","_ref","data","filter","el","discont_price","_ref2","categoryId","titleRender","className","products_page","children","fileName","_jsxFileName","lineNumber","columnNumber","hidden","mob_filter","products_container","_ref3","show","_ref4","discount","map","id","_c","$RefreshReg$"],"sources":["/Users/user/Documents/garden-store/src/pages/ProductsPage/index.jsx"],"sourcesContent":["import React from 'react';\nimport s from './style.module.css'\nimport ProductItem from '../../components/ProductItem';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useLocation, useParams } from 'react-router-dom';\nimport Filter from '../../components/Filter/'\nimport { useEffect } from 'react';\nimport { resetFilter } from '../../store/slices/productsSlice';\nimport MobilAccordion from '../../components/MobilAccordion'\n\nconst ProductsPage = () => {\n    const { categoryTitle, categoryID, sales } = useParams()\n    const dispatch = useDispatch()\n    const location = useLocation()\n\n    useEffect(() => {\n        dispatch(resetFilter())\n    },[dispatch])\n\n    useEffect(() => {\n        if (sales) {\n            document.title = \"All Sales\"\n        } else if (categoryID) {\n            document.title = `Category: ${categoryTitle}`\n        } \n        else {\n            document.title = \"Products\"\n        }\n    },[location.pathname])\n\n\n    const products = useSelector(({ products: { data } }) => {\n        if (sales) {\n            return data.filter(el => !!el.discont_price)\n        } else {\n            return categoryID ? data.filter(({ categoryId }) => +categoryID === categoryId) : data\n        }\n    })\n     \n    const titleRender = () => {\n        if (categoryTitle) {\n            return categoryTitle\n        } else if (sales) {\n            return \"Products with sale\"\n        } else {\n            return \"All products\"\n        }\n    }\n\n    return (\n        <div className={s.products_page}>\n            <h1 className={s.title}>{titleRender()}</h1>\n            <div className={s.hidden}>\n                <Filter />\n            </div>\n            <div className={s.mob_filter}>\n                <MobilAccordion title={\"Filters\"}>\n                    {<Filter/>}\n                </MobilAccordion>\n            </div>\n            <div className={s.products_container}>\n                { \n                   products\n                   .filter(({ show }) => show )\n                   .filter(({ discount }) => discount )\n                   .map(el => <ProductItem key={el.id} {...el}/>)\n                }\n            </div>\n        </div>\n    );\n};\n\nexport default ProductsPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}